{"remainingRequest":"D:\\项目\\食客项目\\vue_app_000\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!D:\\项目\\食客项目\\vue_app_000\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\项目\\食客项目\\vue_app_000\\vue_app_00\\src\\components\\shike\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\项目\\食客项目\\vue_app_000\\vue_app_00\\src\\components\\shike\\Login.vue","mtime":1571916132000},{"path":"D:\\项目\\食客项目\\vue_app_000\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"D:\\项目\\食客项目\\vue_app_000\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"D:\\项目\\食客项目\\vue_app_000\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      uname: [],\n      upwd: [],\n      yzm: [],\n      inputyzm: []\n    };\n  },\n  mounted: function mounted() {\n    this.change();\n  },\n  methods: {\n    change: function change() {\n      //功能：点击更换验证码\n      var c3 = document.getElementById(\"c3\");\n      console.log(c3);\n      var ctx = c3.getContext(\"2d\");\n      var a = Math.floor(Math.random() * 10);\n      var b = Math.floor(Math.random() * 10);\n      var c = Math.floor(Math.random() * 10);\n      var d = Math.floor(Math.random() * 10);\n      this.yzm = a + \"\" + b + \"\" + c + \"\" + d; //随机背景颜色\n\n      var r = Math.floor(Math.random() * 255);\n      var g = Math.floor(Math.random() * 255);\n      var q = Math.floor(Math.random() * 255);\n      c3.style.background = \"rgba(\" + r + \",\" + g + \",\" + q + \",\" + \"0.6)\"; //console.log(a);\n\n      ctx.font = \"28px SimHei\";\n      ctx.clearRect(0, 0, 999, 999);\n      ctx.fillText(this.yzm, 60, 40);\n    },\n    login: function login() {\n      var _this = this;\n\n      //功能，完成用户登录操作\n      //1获取用户输入的用户名和密码\n      var uname = this.uname;\n      var upwd = this.upwd; //创建正则表达式\n\n      var reg = /^[a-z0-9]{3,12}$/i; //验证用户信息\n\n      if (reg.test(uname) == false) {\n        //7.如果验证不正确显示确认消息框\n        this.$messagebox(\"消息\", \"昵称格式不正确\"); //8.停在函数执行\n\n        return;\n      }\n\n      if (reg.test(upwd) == false) {\n        //7.如果验证不正确显示确认消息框\n        this.$messagebox(\"消息\", \"密码格式不正确\"); //8.停在函数执行\n\n        return;\n      } //验证码判断\n\n\n      var yzm = this.yzm;\n      var inputyzm = this.inputyzm;\n\n      if (!(inputyzm === yzm)) {\n        this.$messagebox(\"验证码不正确\");\n        return;\n      } //发送ajax请求\n\n\n      var url = \"login\";\n      var obj = {\n        uname: uname,\n        upwd: upwd\n      };\n      this.axios.get(url, {\n        params: obj\n      }).then(function (res) {\n        console.log(res.data.code);\n\n        if (res.data.code < 0) {\n          _this.$messagebox(\"用户名或密码有误\");\n        } else {\n          //跳转到Product组件\n          sessionStorage.uid = res.data.data[0].uid;\n\n          _this.$router.push(\"/Bottom\");\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAgBA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,aAAA,EADA;AAEA,YAAA,EAFA;AAGA,WAAA,EAHA;AAIA,gBAAA;AAJA,KAAA;AAMA,GARA;AASA,SATA,qBASA;AACA,SAAA,MAAA;AACA,GAXA;AAYA,WAAA;AACA,UADA,oBACA;AACA;AACA,UAAA,KAAA,SAAA,cAAA,CAAA,IAAA,CAAA;AACA,cAAA,GAAA,CAAA,EAAA;AACA,UAAA,MAAA,GAAA,UAAA,CAAA,IAAA,CAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,EAAA,CAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,EAAA,CAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,EAAA,CAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,EAAA,CAAA;AACA,WAAA,GAAA,GAAA,IAAA,EAAA,GAAA,CAAA,GAAA,EAAA,GAAA,CAAA,GAAA,EAAA,GAAA,CAAA,CATA,CAUA;;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,GAAA,CAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,GAAA,CAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,GAAA,CAAA;AACA,SAAA,KAAA,CAAA,UAAA,GAAA,UAAA,CAAA,SAAA,CAAA,SAAA,CAAA,eAAA,CAdA,CAeA;;AACA,UAAA,IAAA,GAAA,aAAA;AACA,UAAA,SAAA,CAAA,CAAA,EAAA,CAAA,EAAA,GAAA,EAAA,GAAA;AACA,UAAA,QAAA,CAAA,KAAA,GAAA,EAAA,EAAA,EAAA,EAAA;AACA,KApBA;AAqBA,SArBA,mBAqBA;AAAA;;AACA;AACA;AACA,UAAA,QAAA,KAAA,KAAA;AACA,UAAA,OAAA,KAAA,IAAA,CAJA,CAKA;;AACA,UAAA,MAAA,mBAAA,CANA,CAOA;;AACA,UAAA,IAAA,IAAA,CAAA,KAAA,KAAA,KAAA,EAAA;AACA;AACA,aAAA,WAAA,CAAA,IAAA,EAAA,SAAA,EAFA,CAIA;;AACA;AACA;;AACA,UAAA,IAAA,IAAA,CAAA,IAAA,KAAA,KAAA,EAAA;AACA;AACA,aAAA,WAAA,CAAA,IAAA,EAAA,SAAA,EAFA,CAIA;;AACA;AACA,OArBA,CAsBA;;;AACA,UAAA,MAAA,KAAA,GAAA;AACA,UAAA,WAAA,KAAA,QAAA;;AACA,UAAA,EAAA,aAAA,GAAA,CAAA,EAAA;AACA,aAAA,WAAA,CAAA,QAAA;AACA;AACA,OA5BA,CA6BA;;;AACA,UAAA,MAAA,OAAA;AACA,UAAA,MAAA;AAAA,eAAA,KAAA;AAAA,cAAA;AAAA,OAAA;AACA,WAAA,KAAA,CAAA,GAAA,CACA,GADA,EACA;AAAA,gBAAA;AAAA,OADA,EAEA,IAFA,CAEA,eAAA;AACA,gBAAA,GAAA,CAAA,IAAA,IAAA,CAAA,IAAA;;AACA,YAAA,IAAA,IAAA,CAAA,IAAA,GAAA,CAAA,EAAA;AACA,gBAAA,WAAA,CAAA,UAAA;AAEA,SAHA,MAGA;AACA;AACA,yBAAA,GAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA,CAAA,EAAA,GAAA;;AACA,gBAAA,OAAA,CAAA,IAAA,CAAA,SAAA;AACA;AACA,OAZA;AAaA;AAlEA;AAZA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n        <!-- 1.用户输入框 -->\r\n     <mt-field label=\"用户名\" placeholder=\"请输入用户名\"  :attr=\"{autofocus:true}\" v-model=\"uname\"></mt-field>\r\n     <!--2.密码输入框 -->\r\n     <mt-field label=\"密码\" placeholder=\"请输入密码\" v-model=\"upwd\"></mt-field>\r\n     <div>\r\n         <mt-field label=\"验证码\" placeholder=\"请输入验证码\" v-model=\"inputyzm\">\r\n             <canvas id=\"c3\" width=\"170\" height=\"48\" @click=\"change\"></canvas>\r\n         </mt-field>\r\n     </div>\r\n     <!-- 3.登录按钮 -->\r\n     <mt-button size=\"large\"  @click=\"login\">登录</mt-button>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return{\r\n          uname:[],\r\n          upwd:[],\r\n          yzm:[],\r\n          inputyzm:[]\r\n        }\r\n    },\r\n    mounted(){\r\n        this.change()\r\n    },\r\n    methods:{\r\n        change(){\r\n            //功能：点击更换验证码\r\n            var c3=document.getElementById(\"c3\");\r\n            console.log(c3);\r\n            var ctx=c3.getContext(\"2d\");\r\n            var a=Math.floor(Math.random()*10);\r\n            var b=Math.floor(Math.random()*10);\r\n            var c=Math.floor(Math.random()*10);\r\n            var d=Math.floor(Math.random()*10);\r\n            this.yzm=a+\"\"+b+\"\"+c+\"\"+d;\r\n            //随机背景颜色\r\n            var r=Math.floor(Math.random()*255);\r\n            var g=Math.floor(Math.random()*255);\r\n            var q=Math.floor(Math.random()*255);\r\n            c3.style.background=`rgba(`+r+`,`+g+`,`+q+`,`+`0.6)`\r\n            //console.log(a);\r\n            ctx.font=\"28px SimHei\"\r\n            ctx.clearRect(0,0,999,999);\r\n            ctx.fillText(this.yzm,60,40);\r\n        },\r\n        login(){\r\n            //功能，完成用户登录操作\r\n            //1获取用户输入的用户名和密码\r\n            var uname=this.uname;\r\n            var upwd=this.upwd;\r\n            //创建正则表达式\r\n            var reg=/^[a-z0-9]{3,12}$/i;\r\n            //验证用户信息\r\n             if(reg.test(uname)==false){\r\n                 //7.如果验证不正确显示确认消息框\r\n                this.$messagebox(\"消息\",\"昵称格式不正确\")\r\n           \r\n            //8.停在函数执行\r\n            return;\r\n           }\r\n           if(reg.test(upwd)==false){\r\n                 //7.如果验证不正确显示确认消息框\r\n                this.$messagebox(\"消息\",\"密码格式不正确\")\r\n           \r\n            //8.停在函数执行\r\n            return;\r\n           }\r\n           //验证码判断\r\n           var yzm=this.yzm;\r\n           var inputyzm=this.inputyzm;\r\n           if(!(inputyzm===yzm)){\r\n               this.$messagebox(\"验证码不正确\");\r\n               return;\r\n           }\r\n           //发送ajax请求\r\n           var url=\"login\";\r\n           var obj={uname:uname,upwd:upwd};\r\n           this.axios.get(\r\n               url,{params:obj}\r\n           ).then(res=>{\r\n               console.log(res.data.code);\r\n               if(res.data.code<0){\r\n                   this.$messagebox(\"用户名或密码有误\")\r\n                   \r\n               }else{\r\n                   //跳转到Product组件\r\n                   sessionStorage.uid=res.data.data[0].uid;\r\n                   this.$router.push(\"/Bottom\")\r\n               }\r\n           });\r\n        }\r\n\r\n    }\r\n}\r\n</script>"],"sourceRoot":"src\\components\\shike"}]}